ylim(-50, +100) +
coord_polar(start = 0)
ggplot(spct, aes(x = as.factor(family)), y = n) +
geom_bar(stat = "identity", fill = alpha(edcol[3], 0.3), aes(y=n)) +
ylim(-50, +100) +
coord_polar(start = 0)
ggplot(spct, aes(x = as.factor(family)), y = n) +
theme_minimal() +
theme(
axis.text = element_blank(),
axis.title = element_blank(),
panel.grid = element_blank(),
plot.margin = unit(rep(-2,4), "cm")     # This remove unnecessary margin around plot
) +
geom_bar(stat = "identity", fill = alpha(edcol[3], 0.3), aes(y=n)) +
ylim(-50, +100) +
coord_polar(start = 0)
ggplot(spct, aes(x = as.factor(family)), y = n) +
theme_minimal() +
theme(
axis.text = element_blank(),
axis.title = element_blank(),
panel.grid = element_blank(),
plot.margin = unit(rep(-2,4), "cm")     # This remove unnecessary margin around plot
) +
geom_bar(stat = "identity", fill = alpha(edcol[1], 0.3), aes(y=n)) +
ylim(-50, +100) +
coord_polar(start = 0)
spct <- sort(count(spiders, family))
spct <- count(spiders, family) %>% sort
spct <- count(spiders, family) %>% arrange
ggplot(spct, aes(x = as.factor(family)), y = n) +
theme_minimal() +
theme(
axis.text = element_blank(),
axis.title = element_blank(),
panel.grid = element_blank(),
plot.margin = unit(rep(-2,4), "cm")     # This remove unnecessary margin around plot
) +
geom_bar(stat = "identity", fill = alpha(edcol[1], 0.3), aes(y=n)) +
ylim(-50, +100) +
coord_polar(start = 0)
arrange(spct, n)
spct <- arrange(spct, n)
ggplot(spct, aes(x = as.factor(family)), y = n) +
theme_minimal() +
theme(
axis.text = element_blank(),
axis.title = element_blank(),
panel.grid = element_blank(),
plot.margin = unit(rep(-2,4), "cm")     # This remove unnecessary margin around plot
) +
geom_bar(stat = "identity", fill = alpha(edcol[1], 0.3), aes(y=n)) +
ylim(-50, +100) +
coord_polar(start = 0)
spct
ggplot(spct, aes(x = as.factor(family)), y = n) +
geom_bar(stat = "identity", fill = alpha(edcol[1], 0.3), aes(y=n)) +
ylim(-50, +100) +
coord_polar(start = 0)
ggplot(spct, aes(x = as.factor(family)), y = n) +
geom_bar(stat = "identity", fill = alpha(edcol[1], 0.3), aes(y=n)) +
ylim(-50, +100) +
coord_polar(start = 0) +
theme_minimal()
ggplot(spct, aes(x = as.factor(family)), y = n) +
geom_bar(stat = "identity", fill = alpha(edcol[1], 0.3), aes(y=n)) +
ylim(-50, +100) +
coord_polar(start = 0) +
theme_minimal() +
theme(
axis.text = element_blank(),
axis.title = element_blank(),
panel.grid = element_blank(),
plot.margin = unit(rep(-2,4), "cm")     # This remove unnecessary margin around plot
)
ggplot(spct, aes(x = as.factor(family)), y = n) +
geom_bar(stat = "identity", fill = alpha(edcol[1], 0.3), aes(y=n)) +
ylim(-50, +100) +
coord_polar(start = 0) +
theme_minimal() +
theme(
axis.title = element_blank(),
panel.grid = element_blank(),
plot.margin = unit(rep(-2,4), "cm")     # This remove unnecessary margin around plot
)
ggplot(spct, aes(x = as.factor(family)), y = n) +
geom_bar(stat = "identity", fill = alpha(edcol[1], 0.3), aes(y=n)) +
ylim(-25, 100) +
coord_polar(start = 0) +
theme_minimal() +
theme(
axis.title = element_blank(),
panel.grid = element_blank(),
plot.margin = unit(rep(-2,4), "cm")     # This remove unnecessary margin around plot
)
ggplot(spct, aes(x = as.factor(family)), y = n) +
geom_bar(stat = "identity", fill = alpha(edcol[1], 0.3), aes(y=n)) +
ylim(-10, 100) +
coord_polar(start = 0) +
theme_minimal() +
theme(
axis.title = element_blank(),
panel.grid = element_blank(),
plot.margin = unit(rep(-2,4), "cm")     # This remove unnecessary margin around plot
)
par(mar = c(10,4,10,2))
ggplot(spct, aes(x = as.factor(family)), y = n) +
geom_bar(stat = "identity", fill = alpha(edcol[1], 0.3), aes(y=n)) +
ylim(-10, 100) +
coord_polar(start = 0) +
theme_minimal() +
theme(
axis.title = element_blank(),
panel.grid = element_blank(),
plot.margin = unit(rep(-2,4), "cm")     # This remove unnecessary margin around plot
)
par(mar = c(5,4,4,2)+.1)
ggplot(spct, aes(x = as.factor(family)), y = n) +
geom_bar(stat = "identity", fill = alpha(edcol[1], 0.3), aes(y=n)) +
ylim(-10, 100) +
coord_polar(start = 0) +
theme_minimal() +
theme(
axis.title = element_blank(),
panel.grid = element_blank(),
plot.margin = unit(rep(-2,4), "cm")     # This remove unnecessary margin around plot
)
ggplot(spct, aes(x = as.factor(family)), y = n) +
geom_bar(stat = "identity", fill = alpha(edcol[1], 0.3), aes(y=n)) +
ylim(-10, 100) +
coord_polar(start = 0) +
theme_minimal() +
theme(
axis.text = element_blank(),
axis.title = element_blank(),
panel.grid = element_blank(),
plot.margin = unit(rep(-2,4), "cm")     # This remove unnecessary margin around plot
)
ggplot(spct, aes(x = as.factor(family)), y = n) +
geom_bar(stat = "identity", fill = alpha(edcol[1], 0.3), aes(y=n)) +
ylim(-50, 100) +
coord_polar(start = 0) +
theme_minimal() +
theme(
axis.text = element_blank(),
axis.title = element_blank(),
panel.grid = element_blank(),
plot.margin = unit(rep(-2,4), "cm")     # This remove unnecessary margin around plot
)
ggplot(spct, aes(x = as.factor(family)), y = n) +
geom_bar(stat = "identity", fill = alpha(edcol[1], 0.3), aes(y=n)) +
ylim(-50, 150) +
coord_polar(start = 0) +
theme_minimal() +
theme(
axis.text = element_blank(),
axis.title = element_blank(),
panel.grid = element_blank(),
plot.margin = unit(rep(-2,4), "cm")     # This remove unnecessary margin around plot
)
ggplot(spct, aes(x = as.factor(family)), y = n) +
geom_bar(stat = "identity", fill = alpha(edcol[1], 0.3), aes(y=n)) +
ylim(-50, 200) +
coord_polar(start = 0) +
theme_minimal() +
theme(
axis.text = element_blank(),
axis.title = element_blank(),
panel.grid = element_blank(),
plot.margin = unit(rep(-2,4), "cm")     # This remove unnecessary margin around plot
)
ggplot(spct, aes(x = as.factor(family)), y = n) +
geom_bar(stat = "identity", fill = alpha(edcol[1], 0.3), aes(y=n)) +
ylim(-50, 1000) +
coord_polar(start = 0) +
theme_minimal() +
theme(
axis.text = element_blank(),
axis.title = element_blank(),
panel.grid = element_blank(),
plot.margin = unit(rep(-2,4), "cm")     # This remove unnecessary margin around plot
)
ggplot(spct, aes(x = as.factor(family)), y = n) +
geom_bar(stat = "identity", fill = alpha(edcol[1], 0.3), aes(y=n)) +
ylim(-200, 1000) +
coord_polar(start = 0) +
theme_minimal() +
theme(
axis.text = element_blank(),
axis.title = element_blank(),
panel.grid = element_blank(),
plot.margin = unit(rep(-2,4), "cm")     # This remove unnecessary margin around plot
)
ggplot(spct, aes(x = as.factor(family)), y = n) +
geom_bar(stat = "identity", fill = alpha(edcol[1], 0.3), aes(y=n)) +
ylim(-500, 1000) +
coord_polar(start = 0) +
theme_minimal() +
theme(
axis.text = element_blank(),
axis.title = element_blank(),
panel.grid = element_blank(),
plot.margin = unit(rep(-2,4), "cm")     # This remove unnecessary margin around plot
)
ggplot(spct, aes(x = as.factor(family)), y = n) +
geom_bar(stat = "identity", fill = alpha(edcol[1], 0.3), aes(y=n)) +
ylim(-500, 1000) +
coord_polar(start = 0) +
theme_minimal() +
theme(
axis.title = element_blank(),
panel.grid = element_blank(),
plot.margin = unit(rep(-2,4), "cm")     # This remove unnecessary margin around plot
)
ggplot(spct, aes(x = as.factor(family)), y = n) +
geom_bar(stat = "identity", fill = alpha(edcol[1], 0.3), aes(y=n)) +
ylim(-500, 1000) +
coord_polar(start = 0) +
theme_minimal() +
theme(
axis.title = element_blank(),
panel.grid = element_blank(),
plot.margin = unit(rep(0,4), "cm")     # This remove unnecessary margin around plot
)
ggplot(spct, aes(x = as.factor(family)), y = n) +
geom_bar(stat = "identity", fill = alpha(edcol[1], 0.3), aes(y=n)) +
ylim(-500, 1000) +
coord_polar() +
theme_minimal() +
theme(
axis.title = element_blank(),
panel.grid = element_blank(),
plot.margin = unit(rep(0,4), "cm")     # This remove unnecessary margin around plot
)
ggplot(spct, aes(x = as.factor(family)), y = log(n)) +
geom_bar(stat = "identity", fill = alpha(edcol[1], 0.3), aes(y=n)) +
ylim(-500, 1000) +
coord_polar() +
theme_minimal() +
theme(
axis.title = element_blank(),
panel.grid = element_blank(),
plot.margin = unit(rep(0,4), "cm")     # This remove unnecessary margin around plot
)
hist(spct)
hist(spct$n)
barplot(spct$n)
barplot(log(spct$n))
par(mar = c(5,4,4,2)+.1)
ggplot(spct, aes(x = as.factor(family)), y = log(n)) +
geom_bar(stat = "identity", fill = alpha(edcol[1], 0.3), aes(y=n)) +
ylim(-500, 1000) +
coord_polar() +
theme_minimal() +
theme(
axis.title = element_blank(),
panel.grid = element_blank(),
plot.margin = unit(rep(0,4), "cm")     # This remove unnecessary margin around plot
)
barplot(log(spct$n))
barplot(log(spct$n),
horiz = T)
par(mar = c(5,8,2,1))
barplot(log(spct$n),
horiz = T)
names <- barplot(log(spct$n),
horiz = T)
names
spct
axis(side = 2, at = names, labels = spct$family)
axis(side = 2, at = names, labels = spct$family, las = 2)
axis(side = 2, at = names, labels = spct$family, las = 2, cex.axis = .2)
names <- barplot(log(spct$n),
horiz = T)
axis(side = 2, at = names, labels = spct$family, las = 2, cex.axis = .5)
names <- barplot(log(spct$n),
horiz = T)
axis(side = 2, at = names, labels = spct$family, las = 2, cex.axis = .4)
names <- barplot(log(spct$n)+1,
horiz = T)
axis(side = 2, at = names, labels = spct$family, las = 2, cex.axis = .4)
axis(side = 2, at = names, labels = spct$family, las = 2, cex.axis = .45)
mtext(text = 'Family name', side = 2, line = 3)
mtext(text = 'Family name', side = 2, line = 4)
mtext(text = 'Family name', side = 2, line = 4.2)
names <- barplot(log(spct$n)+1,
horiz = T)
axis(side = 2, at = names, labels = spct$family, las = 2, cex.axis = .4)
mtext(text = 'Family name', side = 2, line = 4.2)
mtext(text = 'Family name', side = 2, line = 4.5)
par(mar = c(1,6,2,1))
names <- barplot(log(spct$n)+1,
horiz = T)
par(mar = c(2,6,2,1))
names <- barplot(log(spct$n)+1,
horiz = T)
par(mar = c(4,6,1,1))
names <- barplot(log(spct$n)+1,
horiz = T)
par(mar = c(4,6,0,1))
names <- barplot(log(spct$n)+1,
horiz = T)
axis(side = 2, at = names, labels = spct$family, las = 2, cex.axis = .4)
mtext(text = 'Family name', side = 2, line = 4.5)
names <- barplot(log(spct$n)+1,
col = rep(edcol[1:2], each = 5),
horiz = T)
axis(side = 2, at = names, labels = spct$family, las = 2, cex.axis = .4)
mtext(text = 'Family name', side = 2, line = 4.5)
mtext(text = '# Species (log)', side = 1, line = 1)
unique(spiders$family)
table(spiders$family)
count(spiders, family)$n
spct <- count(spiders, family)
spct <- arrange(spct, n)
par(mar = c(4,6,0,1))
names <- barplot(log(spct$n)+1,
col = rep(edcol[1:2], each = 5),
horiz = T)
axis(side = 2, at = names, labels = spct$family, las = 2, cex.axis = .4)
mtext(text = 'Family name', side = 2, line = 4.5)
mtext(text = '# Species (log)', side = 1, line = 2)
arrows(x0 = 6.2, x1 = 6.2,
y0 = 33, y1 = 75)
arrows(x0 = 6.5, x1 = 6.5,
y0 = 33, y1 = 100)
arrows(x0 = 6.4, x1 = 6.4,
y0 = 33, y1 = 110)
arrows(x0 = 6.4, x1 = 6.4,
y0 = 33, y1 = 108)
names <- barplot(log(spct$n)+1,
col = rep(edcol[1:2], each = 5),
horiz = T)
axis(side = 2, at = names, labels = spct$family, las = 2, cex.axis = .4)
mtext(text = 'Family name', side = 2, line = 4.5)
mtext(text = '# Species (log)', side = 1, line = 2)
arrows(x0 = 6.4, x1 = 6.4,
y0 = 33, y1 = 108)
names <- barplot(log(spct$n)+1,
col = rep(edcol[1:2], each = 5),
horiz = T)
axis(side = 2, at = names, labels = spct$family, las = 2, cex.axis = .4)
mtext(text = 'Family name', side = 2, line = 4.5)
mtext(text = '# Species (log)', side = 1, line = 2)
arrows(x0 = 6.4, x1 = 6.4,
y0 = 33, y1 = 107)
names <- barplot(log(spct$n)+1,
col = rep(edcol[1:2], each = 5),
horiz = T)
axis(side = 2, at = names, labels = spct$family, las = 2, cex.axis = .4)
mtext(text = 'Family name', side = 2, line = 4.5)
mtext(text = '# Species (log)', side = 1, line = 2)
arrows(x0 = 6.4, x1 = 6.4,
y0 = 50, y1 = 107)
arrows(x0 = 6.4, x1 = 6.4,
y0 = 50, y1 = 107,
length = 0)
names <- barplot(log(spct$n)+1,
col = rep(edcol[1:2], each = 5),
horiz = T)
axis(side = 2, at = names, labels = spct$family, las = 2, cex.axis = .4)
mtext(text = 'Family name', side = 2, line = 4.5)
mtext(text = '# Species (log)', side = 1, line = 2)
arrows(x0 = 6.4, x1 = 6.4,
y0 = 50, y1 = 107,
length = 0)
pic2 <- readPNG('img/spi-down.png')
rasterImage(pic2, xleft = 190, xright = 240,
ybottom = 400, ytop = 800)
rasterImage(pic2, xleft = 6, xright = 7,
ybottom = 10, ytop = 25)
rasterImage(pic2, xleft = 6, xright = 7,
ybottom = 25, ytop = 50)
rasterImage(pic2, xleft = 6, xright = 7,
ybottom = 40, ytop = 53)
rasterImage(pic2, xleft = 5.8, xright = 6.8,
ybottom = 40, ytop = 53)
rasterImage(pic2, xleft = 5.9, xright = 6.9,
ybottom = 40, ytop = 53)
rasterImage(pic2, xleft = 5.92, xright = 6.92,
ybottom = 40, ytop = 53)
arrows(x0 = 6.4, x1 = 6.4,
y0 = 50, y1 = 107,
length = 0)
rasterImage(pic2, xleft = 5.92, xright = 6.92,
ybottom = 38, ytop = 52)
arrows(x0 = 6.4, x1 = 6.4,
y0 = 50, y1 = 107,
length = 0)
pic2 <- readPNG('img/spi-down.png') # so cute it hurts
names <- barplot(log(spct$n)+1,
col = rep(edcol[1:2], each = 5),
horiz = T)
axis(side = 2, at = names, labels = spct$family, las = 2, cex.axis = .4)
mtext(text = 'Family name', side = 2, line = 4.5)
mtext(text = '# Species (log)', side = 1, line = 2)
pic2 <- readPNG('img/spi-down.png') # so cute it hurts
dim(pic2)
rasterImage(pic2, xleft = 5.92, xright = 6.92,
ybottom = 38, ytop = 52)
arrows(x0 = 6.4, x1 = 6.4,
y0 = 50, y1 = 107,
length = 0)
library(tidyverse)
library(png)
# Ed work PC
setwd(r'(D:\Dropbox\git-hads\ha-data-science.github.io\pages\harug-files\2021-12-15-data-viz)')
spidata <- tidytuesdayR::tt_load('2021-12-07')
spiders <- spidata$spiders
spiders$species_lsid
spiders$distribution
## 01 Data EDA ####
summary(spiders$year)
2021-1757
myseq <- seq(from = 1, to = (2021-1757), by = 20)
myseq
count(spiders, year)
which(spiders$year == 1757)
spiders$author[which(spiders$year == 1757)]
which(spiders$author == 'Linnaeus')
spiders$year[which(spiders$author == 'Linnaeus')]
count(spiders, year)
barplot(count(spiders, year)$n)
x <- barplot(count(spiders, year)$n,
col = rep(c('red', 'white'), each = 4),
ylab = '# Species per year')
x
spiders$year
unique(spiders$year)
sort(unique(spiders$year))
axis(side = 1, at =  x, las = 2,
labels = sort(unique(spiders$year)), cex.axis=.5)
mtext(side = 1, line = 2, at = 140,
text = 'Year of \'discovery\'')
pic <- readPNG('img/spi-right.png')
dim(pic)
rasterImage(pic, xleft = 190, xright = 240,
ybottom = 400, ytop = 800)
x <- barplot(count(spiders, year)$n,
col = rep(c('goldenrod', 'blue'), each = 4),
ylab = '# Species per year')
axis(side = 1, at =  x, las = 2,
labels = sort(unique(spiders$year)), cex.axis=.5)
mtext(side = 1, line = 2, at = 140,
text = 'Year of \'discovery\'')
pic <- readPNG('img/spi-right.png')
dim(pic)
rasterImage(pic, xleft = 190, xright = 240,
ybottom = 400, ytop = 800)
library(RColorBrewer)
par(mar=c(3,4,2,2))
display.brewer.all()
par(mar=c(5,4,2,2)+.1)
edcol <- brewer.pal(n=9, 'Set1')[c(1,3,6)]
edcol
x<-barplot(count(spiders, year)$n,
col = rep(edcol, each = 4),
ylab = '# Species per year')
axis(side = 1, at =  x, las = 2,
labels = sort(unique(spiders$year)), cex.axis=.5)
mtext(side = 1, line = 2, at = 140,
text = 'Year of \'discovery\'')
rasterImage(pic, xleft = 190, xright = 240,
ybottom = 400, ytop = 800)
unique(spiders$family)
table(spiders$family)
count(spiders, family)$n
spct <- count(spiders, family)
spct <- arrange(spct, n)
par(mar = c(4,6,0,1))
names <- barplot(log(spct$n)+1,
col = rep(edcol[1:2], each = 5),
horiz = T)
axis(side = 2, at = names, labels = spct$family, las = 2, cex.axis = .4)
mtext(text = 'Family name', side = 2, line = 4.5)
mtext(text = '# Species (log)', side = 1, line = 2)
par(mar = c(4,6,0,1))
names <- barplot(log(spct$n)+1,
col = rep(edcol[1:2], each = 5),
horiz = T)
axis(side = 2, at = names, labels = spct$family,
las = 2, cex.axis = .2)
mtext(text = 'Family name', side = 2, line = 4.5)
mtext(text = '# Species (log)', side = 1, line = 2)
axis(side = 2, at = names, labels = spct$family,
las = 2, cex.axis = .4)
par(mar = c(4,6,0,1))
names <- barplot(log(spct$n)+1,
col = rep(edcol[1:2], each = 5),
horiz = T)
axis(side = 2, at = names, labels = spct$family,
las = 2, cex.axis = .4)
mtext(text = 'Family name', side = 2, line = 4.5)
mtext(text = '# Species (log)', side = 1, line = 2)
pic2 <- readPNG('img/spi-down.png') # so cute it hurts
dim(pic2)
rasterImage(pic2, xleft = 5.92, xright = 6.92,
ybottom = 38, ytop = 52)
arrows(x0 = 6.4, x1 = 6.4,
y0 = 50, y1 = 107,
length = 0)
ggplot(spct, aes(x = as.factor(family)), y = log(n)) +
geom_bar(stat = "identity", fill = alpha(edcol[1], 0.3), aes(y=n)) +
ylim(-500, 1000) +
coord_polar() +
theme_minimal() +
theme(
axis.title = element_blank(),
panel.grid = element_blank(),
plot.margin = unit(rep(0,4), "cm")
)
